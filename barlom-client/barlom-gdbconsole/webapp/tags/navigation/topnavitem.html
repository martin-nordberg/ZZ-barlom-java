
<!-- Riot.js tag for top navigation panel. -->

<!-- Usage: <span data-is="barlom-gdb-topnavitem" route="/overtherainbow">Press Me</nav> -->

<barlom-gdb-topnavitem class={ "c-nav__item": true, "c-nav__item--active": isActive }>

    <div onclick="{ click }">
        <yield/>
    </div>

    <script>

        // Checks whether the button's route matches the start of the hash
        var makeActive = function() {
          var hash = window.location.hash.substring(1);
          this.isActive = opts.route.substring(1) === hash.substring( 0, opts.route.length-1 );
        };

        this.on( 'before-mount', makeActive );

        this.on( 'update', makeActive );

        // Routes the button; updates the parent nav to get item activation updated
        click( e ) {
          riot.route( opts.route );
          this.parent.update();
        }

    </script>

</barlom-gdb-topnavitem>


